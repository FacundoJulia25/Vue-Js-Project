<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://unpkg.com/vue@3"></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <title>Vue Basics</title>
    </head>

    <body>
        <navbar :pages="pages" :active-page="activePage" :click-nav-link="(index)=>activePage = index"></navbar>
        <page-viewer :page="pages[activePage]"></page-viewer>
        <script>
            let app = Vue.createApp({
                data() {
                    return {
                        activePage: 0,
                        pages: [
                            {
                                link: { text: 'Home', url: 'index.html' },
                                pageTitle: 'Home',
                                content: 'This is the home content'
                            },
                            {
                                link: { text: 'About Us', url: 'about.html' },
                                pageTitle: 'About Us',
                                content: 'This is the About Us content'
                            },
                            {
                                link: { text: 'Contact', url: 'contact.html' },
                                pageTitle: 'Contact',
                                content: 'This is the Contact content'
                            }
                        ]
                    };
                }
            });

            app.component('page-viewer', {
                template: `
        <div class="container">
            <h1>{{page.pageTitle}}</h1>
            <p>{{page.content}}</p>
        </div>`,
                props: ['page']
            });

            app.component('navbar', {
                props: ['pages', 'activePage', 'clickNavLink'],
                template: `
      <nav id="navbar" class="navbar navbar-expand-lg" :class="\`bg-\${theme}\ navbar-\${theme}\`">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">My vue</a>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li v-for="(page, index) in pages " class="nav-link">
          <a :href="page.link.url" :title="\`This link goes to the \${page.link.text}\ page\`" class="nav-link"
            @click.prevent="clickNavLink(index)" :key="index" aria-current="page"
            :class="{active: activePage == index}">{{page.link.text}}
          </a>
        </li>
      </ul>
      <form class="d-flex">
        <button class="btn btn-primary" @click.prevent="changeTheme()">
          toggle navbar
        </button>
      </form>
    </div>
  </nav>
      `,
                data() {
                    return {
                        theme: 'dark'
                    };
                },
                methods: {
                    changeTheme() {
                        let theme = 'light';
                        if (this.theme == 'light') {
                            theme = 'dark';
                        }
                        this.theme = theme;
                    }
                },
            });

            app.mount('body');
        </script>
    </body>
</html>
